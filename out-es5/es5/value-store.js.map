{"version":3,"sources":["../es6/value-store.js"],"names":["Object","value","ValueStore","func","sender","o","exports"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,YAAAA,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7CD;AACA;;;;IAGME,U;;;AACF,WAAA,UAAA,CAAA,KAAA,EAAmB;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,UAAA,CAAA;;AACf,SAAA,KAAA,GAAa,IAAb,KAAa,EAAb;AACA,SAAA,MAAA,GAAcD,KAAK,KAALA,SAAAA,GAAAA,IAAAA,GAAd,KAAA;AACH;;;;wBACGE,I,EAAMC,M,EAAQ;AACd,WAAA,KAAA,CAAA,IAAA,CAAgB;AAAED,QAAAA,IAAI,EAAN,IAAA;AAAQC,QAAAA,MAAM,EAANA;AAAR,OAAhB;AACA,aAAA,IAAA;AACH;;;2BACMD,I,EAAM;AACT,WAAA,KAAA,GAAa,KAAA,KAAA,CAAA,MAAA,CAAkB,UAAA,CAAA,EAAC;AAAA,eAAIE,CAAC,CAADA,IAAAA,IAAJ,IAAA;AAAhC,OAAa,CAAb;AACH;;;yBACIJ,K,EAAO;AACR,WAAA,KAAA,CAAA,OAAA,CAAmB,UAAA,CAAA,EAAC;AAAA,eAAII,CAAC,CAADA,IAAAA,CAAAA,KAAAA,EAAcA,CAAC,CAAnB,MAAIA,CAAJ;AAApB,OAAA;AACH;;;wBACW;AACR,UAAI,KAAA,MAAA,KAAJ,SAAA,EACI,OAAA,IAAA;AACJ,aAAO,KAAP,MAAA;;sBAEMJ,K,EAAO;AACb,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,IAAA,CAAA,KAAA;AACH;;;;;;AAELK,OAAO,CAAPA,UAAAA,GAAAA,UAAAA","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 实现数据的存储，以及数据修改的通知\r\n */\r\nclass ValueStore {\r\n    constructor(value) {\r\n        this.items = new Array();\r\n        this._value = value === undefined ? null : value;\r\n    }\r\n    add(func, sender) {\r\n        this.items.push({ func, sender });\r\n        return func;\r\n    }\r\n    remove(func) {\r\n        this.items = this.items.filter(o => o.func != func);\r\n    }\r\n    fire(value) {\r\n        this.items.forEach(o => o.func(value, o.sender));\r\n    }\r\n    get value() {\r\n        if (this._value === undefined)\r\n            return null;\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n        this.fire(value);\r\n    }\r\n}\r\nexports.ValueStore = ValueStore;\r\n"],"file":"value-store.js"}