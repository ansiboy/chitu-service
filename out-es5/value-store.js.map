{"version":3,"sources":["../out/value-store.js"],"names":["define","require","exports","Object","defineProperty","value","ValueStore","items","Array","_value","undefined","func","sender","push","filter","o","forEach","fire"],"mappings":";;;;;;;;AAAAA,MAAM,CAAC,CAAC,SAAD,EAAY,SAAZ,CAAD,EAAyB,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AACvD;;AACAC,EAAAA,MAAM,CAACC,cAAP,CAAsBF,OAAtB,EAA+B,YAA/B,EAA6C;AAAEG,IAAAA,KAAK,EAAE;AAAT,GAA7C;AACA;;;;AAHuD,MAMjDC,UANiD;AAAA;AAAA;AAOnD,wBAAYD,KAAZ,EAAmB;AAAA;;AACf,WAAKE,KAAL,GAAa,IAAIC,KAAJ,EAAb;AACA,WAAKC,MAAL,GAAcJ,KAAK,KAAKK,SAAV,GAAsB,IAAtB,GAA6BL,KAA3C;AACH;;AAVkD;AAAA;AAAA,0BAW/CM,IAX+C,EAWzCC,MAXyC,EAWjC;AACd,aAAKL,KAAL,CAAWM,IAAX,CAAgB;AAAEF,UAAAA,IAAI,EAAJA,IAAF;AAAQC,UAAAA,MAAM,EAANA;AAAR,SAAhB;AACA,eAAOD,IAAP;AACH;AAdkD;AAAA;AAAA,6BAe5CA,IAf4C,EAetC;AACT,aAAKJ,KAAL,GAAa,KAAKA,KAAL,CAAWO,MAAX,CAAkB,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACJ,IAAF,IAAUA,IAAd;AAAA,SAAnB,CAAb;AACH;AAjBkD;AAAA;AAAA,2BAkB9CN,KAlB8C,EAkBvC;AACR,aAAKE,KAAL,CAAWS,OAAX,CAAmB,UAAAD,CAAC;AAAA,iBAAIA,CAAC,CAACJ,IAAF,CAAON,KAAP,EAAcU,CAAC,CAACH,MAAhB,CAAJ;AAAA,SAApB;AACH;AApBkD;AAAA;AAAA,0BAqBvC;AACR,YAAI,KAAKH,MAAL,KAAgBC,SAApB,EACI,OAAO,IAAP;AACJ,eAAO,KAAKD,MAAZ;AACH,OAzBkD;AAAA,wBA0BzCJ,KA1ByC,EA0BlC;AACb,aAAKI,MAAL,GAAcJ,KAAd;AACA,aAAKY,IAAL,CAAUZ,KAAV;AACH;AA7BkD;;AAAA;AAAA;;AA+BvDH,EAAAA,OAAO,CAACI,UAAR,GAAqBA,UAArB;AACH,CAhCK,CAAN","sourcesContent":["define([\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    /**\r\n     * 实现数据的存储，以及数据修改的通知\r\n     */\r\n    class ValueStore {\r\n        constructor(value) {\r\n            this.items = new Array();\r\n            this._value = value === undefined ? null : value;\r\n        }\r\n        add(func, sender) {\r\n            this.items.push({ func, sender });\r\n            return func;\r\n        }\r\n        remove(func) {\r\n            this.items = this.items.filter(o => o.func != func);\r\n        }\r\n        fire(value) {\r\n            this.items.forEach(o => o.func(value, o.sender));\r\n        }\r\n        get value() {\r\n            if (this._value === undefined)\r\n                return null;\r\n            return this._value;\r\n        }\r\n        set value(value) {\r\n            this._value = value;\r\n            this.fire(value);\r\n        }\r\n    }\r\n    exports.ValueStore = ValueStore;\r\n});\r\n"],"file":"value-store.js"}